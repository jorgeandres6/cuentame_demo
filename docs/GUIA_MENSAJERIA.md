# ğŸ’¬ GuÃ­a de Uso: Sistema de MensajerÃ­a CUÃ‰NTAME

## Para el STAFF (Gestor Institucional)

### Â¿DÃ³nde envÃ­o/recibo mensajes?

**ğŸ“ UbicaciÃ³n**: En el panel de **GestiÃ³n de Caso**, secciÃ³n **"6. Hilo de ConversaciÃ³n"**

### Paso a Paso

1. **Abre un caso** que necesites gestionar
2. **DesplÃ¡zate hasta la secciÃ³n** "6. Hilo de ConversaciÃ³n"
3. **VerÃ¡s**:
   - ğŸ“œ Ãrea superior: Todos los mensajes del caso ordenados cronolÃ³gicamente
   - ğŸ’š Mensajes verdes con "ğŸ‘¨â€ğŸ’¼ Staff" = tu respuesta anterior
   - ğŸ’™ Mensajes azules con "ğŸ‘¤ Usuario" = respuesta del estudiante/padre/docente

4. **Para responder**:
   - Escribe tu mensaje en el campo de texto
   - Presiona el botÃ³n **"âœ‰ï¸ Enviar Mensaje"**
   - El mensaje se vincularÃ¡ automÃ¡ticamente a este caso
   - âš ï¸ **IMPORTANTE**: El ID de conversaciÃ³n = ID del caso (garantiza trazabilidad)

5. **CaracterÃ­sticas**:
   - ğŸ”„ Se auto-actualiza cada 10 segundos
   - ğŸ“Œ Todo queda registrado en el caso
   - ğŸ” Identidad del usuario protegida (encriptada)
   - âœ… No hay lÃ­mite de mensajes

---

## Para ESTUDIANTES, PADRES Y DOCENTES

### Â¿DÃ³nde envÃ­o/recibo mensajes?

**ğŸ“ UbicaciÃ³n**: Tu **BuzÃ³n de Mensajes** (MessagingInterface)

### Paso a Paso

1. **Abre tu BuzÃ³n de Mensajes**
2. **En la parte superior, verÃ¡s dos pestaÃ±as**:
   - ğŸ“‹ **Casos** (NUEVA - Recomendada)
   - ğŸ‘¥ **Conversaciones** (ClÃ¡sica)

3. **Selecciona la pestaÃ±a "ğŸ“‹ Casos"**:
   - VerÃ¡s todos tus casos con mensajes
   - Cada caso muestra:
     - `ğŸ“Œ Caso #1234`
     - NÃºmero de mensajes
     - Fecha del Ãºltimo mensaje
     - Contador de mensajes sin leer (ğŸ”´)

4. **Haz click en un caso** para ver el hilo completo:
   - ğŸ‘¨â€ğŸ’¼ Mensajes verdes = respuestas del Staff
   - ğŸ‘¤ Mensajes azules = tus mensajes anteriores

5. **Para responder**:
   - Escribe tu mensaje en el campo de texto inferior
   - Presiona **"Enviar"**
   - Tu respuesta se vincularÃ¡ automÃ¡ticamente al caso
   - ğŸ“Œ El ID de conversaciÃ³n = ID del caso (para que el staff sepa de quÃ© caso es)

### Ejemplo Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Mensajes (3)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“‹ Casos] [ğŸ‘¥ Conversaciones]    â”‚
â”‚                                     â”‚
â”‚ ğŸ“Œ Caso #1234                   ğŸ”´2 â”‚
â”‚ "Tengo un conflicto con...        â”‚
â”‚ 4 mensajes â€¢ Ãšltimo: 19/01        â”‚
â”‚                                     â”‚
â”‚ ğŸ“Œ Caso #5678                   ğŸ”´1 â”‚
â”‚ "Falta a clases frecuentemente...  â”‚
â”‚ 7 mensajes â€¢ Ãšltimo: 18/01        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â“ Preguntas Frecuentes

### P: Â¿CÃ³mo sÃ© que mi mensaje fue entregado?

**R**: El mensaje aparecerÃ¡ en el hilo de conversaciÃ³n inmediatamente. El staff lo verÃ¡ en la secciÃ³n "Hilo de ConversaciÃ³n" de su panel.

---

### P: Â¿Mi identidad es privada?

**R**: âœ… SÃ. El sistema usa un **cÃ³digo encriptado** (ej: EST-2024-A) en lugar de tu nombre real. Solo el staff autorizado en ese caso puede verte.

---

### P: Â¿Puedo enviar archivos?

**R**: Por ahora solo puedes enviar **mensajes de texto**. Los archivos estarÃ¡n disponibles prÃ³ximamente.

---

### P: Â¿QuÃ© pasa si no respondo?

**R**: El staff verÃ¡ el estado del mensaje:
- âœ… "SIN RESPUESTA" = Esperando tu respuesta
- ğŸŸ¢ "CON RESPUESTA" = Ya respondiste

---

### P: Â¿Puedo ver mensajes antiguos?

**R**: âœ… SÃ­, todos los mensajes de un caso quedan guardados. Abre el caso y desplÃ¡zate hacia arriba para ver todo el historial.

---

### P: Â¿QuÃ© es "conversationId = caseId"?

**R**: Es un identificador tÃ©cnico que asegura que:
- Cada mensaje estÃ¡ vinculado a su caso especÃ­fico
- El staff puede rastrear toda la comunicaciÃ³n de un caso
- No hay confusiÃ³n entre casos diferentes
- Todo queda auditado

---

## ğŸ“‹ Checklist para Staff

Al usar el nuevo sistema de mensajerÃ­a:

- âœ… Abre el caso que necesitas gestionar
- âœ… DesplÃ¡zate hasta "6. Hilo de ConversaciÃ³n"
- âœ… Revisa todos los mensajes anteriores
- âœ… Escribe tu respuesta en el Ã¡rea de texto
- âœ… Presiona "âœ‰ï¸ Enviar Mensaje"
- âœ… Verifica que el contador de no leÃ­dos se actualiza
- âœ… El sistema se auto-actualiza cada 10 segundos

---

## ğŸ“‹ Checklist para Usuarios

Al usar el nuevo sistema de mensajerÃ­a:

- âœ… Abre tu BuzÃ³n de Mensajes
- âœ… Selecciona la pestaÃ±a "ğŸ“‹ Casos"
- âœ… Busca el caso al que quieres responder
- âœ… Haz click para ver el hilo completo
- âœ… Lee los mensajes del staff
- âœ… Escribe tu respuesta
- âœ… Presiona "Enviar"
- âœ… Verifica que tu mensaje aparece en el hilo

---

## ğŸ†˜ SoluciÃ³n de Problemas

### Mi mensaje no aparece

1. Espera 10 segundos (tiempo de auto-actualizaciÃ³n)
2. Recarga la pÃ¡gina (F5)
3. Verifica que escribiste algo en el campo de texto
4. AsegÃºrate de hacer click en "Enviar"

### No veo el Hilo de ConversaciÃ³n (Staff)

1. Abre un caso (no estÃ©s en el listado)
2. DesplÃ¡zate hacia abajo con el mouse
3. Busca la secciÃ³n con el icono ğŸŸ¢ "6. Hilo de ConversaciÃ³n"
4. Si no aparece, recarga la pÃ¡gina

### No veo mis casos en el BuzÃ³n

1. Verifica que hayas iniciado sesiÃ³n correctamente
2. Selecciona la pestaÃ±a "ğŸ“‹ Casos"
3. Espera a que carguen (puede tomar segundos)
4. Si sigue sin aparecer, contacta al soporte tÃ©cnico

---

## ğŸ“ Soporte TÃ©cnico

Si encuentras algÃºn problema:

1. **Nota el ID del caso** (ej: 1234)
2. **Describe quÃ© intentabas hacer**
3. **Menciona si ves algÃºn mensaje de error rojo**
4. **Contacta al equipo de TI**

---

## ğŸ¯ Resumen RÃ¡pido

| Rol | UbicaciÃ³n | AcciÃ³n | Resultado |
|-----|-----------|--------|-----------|
| **Staff** | CaseDetail - SecciÃ³n #6 | Escribir + Enviar | Mensaje vinculado al caso |
| **Usuario** | BuzÃ³n - PestaÃ±a "Casos" | Haz click en caso | Ver hilo completo |
| **Usuario** | Mismo hilo | Escribir + Enviar | Respuesta aparece en tiempo real |
| **Staff** | SecciÃ³n #6 auto-actualiza | Espera 10s | Ve la respuesta del usuario |

---

Â¡Cualquier pregunta, consulta con tu superior o contacta al soporte tÃ©cnico! ğŸ“
